[{"title":"ç®€ä»‹ | About","url":"/About.html","content":"\n\n\n## ç®€ä»‹\n\nä¸€ä¸ªç®€å•ï¼Œå®‰å…¨ï¼Œå…è´¹çš„è¯„è®ºç³»ç»Ÿ | A simple, safe, free comment system\n\nç”±äºè¿™æ˜¯æˆ‘åœ¨å­¦ä¹  vue çš„è¿‡ç¨‹ä¸­è¾¹å­¦è¾¹åšçš„ï¼Œå¯èƒ½éƒ¨åˆ†åŠŸèƒ½ä¸æ˜¯å¾ˆå®Œå–„\n\nå¦‚æœä½ æœ‰ä»€ä¹ˆå¥½çš„å»ºè®®æˆ–è€…æ–°åŠŸèƒ½ï¼Œæ¬¢è¿æå‡ºæˆ–å‚ä¸è´¡çŒ®\n\næ„Ÿè°¢: [Pubudu Dodangoda\n](https://github.com/pupudu) æä¾›çš„ NPM åŒ…å\n\n> åå°æ ·å¼æ˜¯å€Ÿé‰´äº[Twikoo](https://twikoo.js.org/)ï¼Œä»¥åä¼šæœ‰è‡ªå·±çš„æƒ³æ³•ã€é£æ ¼ã€å¸ƒå±€åšå‡ºæ›´æ”¹\n\n\n## ç‰¹ç‚¹\n\n- è½»é‡ (40~kb gzip)\n- è‡ªæ‰˜ç®¡ (Nodejs åç«¯è·¨å¹³å°)\n- æ·±è‰²æ¨¡å¼ (è‡ªåŠ¨é€‚é…æ·±è‰²æ¨¡å¼)\n- å…è´¹éƒ¨ç½² (æœåŠ¡å™¨ã€æ— æœåŠ¡å™¨åŒ€å¯éƒ¨ç½²)\n\n### è¯„è®º\n\n- é‚®ä»¶é€šçŸ¥\n- é˜² XSS æ³¨å…¥\n- åµŒå…¥å¼è¯„è®ºç®¡ç†\n- æ”¯æŒ Markdown è¯­æ³• (å¯ç”¨ \\ ç¦ç”¨)\n- è¯„è®ºå®¡æ ¸\n- æ‰¹é‡å¤„ç† (é€šè¿‡ \\ å®¡æ ¸ \\ åƒåœ¾ \\ åˆ é™¤ )\n- åœ¨çº¿ç¼–è¾‘ (è¯„è®ºä¿¡æ¯ \\ é…ç½®ä¿¡æ¯)\n- è¯„è®ºæœç´¢ (æ¨¡ç³Šæœç´¢: æ˜µç§°ã€é‚®ç®±ã€IPã€è¯„è®ºå†…å®¹ã€æ–‡ç« åœ°å€)\n- è‡ªåŠ¨ä¿å­˜ (è¯„è®ºè‰ç¨¿ã€ç”¨æˆ·åã€é‚®ç®±ã€ç½‘å€)\n- èº«ä»½è®¤è¯ (åšä¸» Tag \\ è‡ªå®šä¹‰)\n- è¯„è®ºå¤´åƒ (Gravatar \\ QQ å¤´åƒ)\n- ååƒåœ¾æ£€æµ‹ ([Akismet-API](https://akismet.com/))\n- é™åˆ¶è¯„è®ºé¢‘ç‡ (æ¯ä¸ª IP 10 åˆ†é’Ÿå†…æœ€å¤šè¯„è®ºå¤šå°‘æ¡ \\ 10 åˆ†é’Ÿå†…æ‰€ä»¥ IP åªèƒ½è¯„è®ºå¤šå°‘æ¡)\n\n### ä¸ªæ€§\n\n- æ”¯æŒé™åˆ¶è¯„è®ºå­—æ•° (ä»¥å…è¢«å‡ ä¸‡å‡ ä¸‡çš„å†™å…¥æ•°æ®åº“ä¸­)\n- æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿\n- æ”¯æŒè‡ªå®šä¹‰`åšä¸»`è¡¨ç¤ºæ–‡å­—\n- æ”¯æŒå¤šç§ä»£ç é«˜äº®[ä¸»é¢˜](https://github.com/highlightjs/cdn-release)\n- æ”¯æŒè‡ªå®šä¹‰è¯„è®ºæ¡†`placeholder`(å ä½ç¬¦)\n- æ”¯æŒè‡ªå®šä¹‰è¡¨æƒ…åˆ—è¡¨ (ç±»å‹: Text \\ image)\n\n## å¿«é€Ÿå¼€å§‹\n\nå…³äº`å®¢æˆ·ç«¯é…ç½®`å°±ä¸å¤šå†™äº†ï¼Œç›´æ¥å€Ÿé‰´æœ¬é¡¹ç›®è·¯å¾„ä¸‹çš„`/public/index.html`è¿›è¡Œé…ç½®å°±å¥½äº†\n\næœåŠ¡ç«¯éƒ¨ç½²\n\n> æ³¨æ„: ç›®å‰ä»…æ”¯æŒ MongoDB\n\n### å…‹éš†ä»“åº“éƒ¨ç½²\n\n<details>\n<summary>ç‚¹å‡»å±•å¼€</summary>\n\n```bash\ngit clone https://github.com/lete114/Discuss.git Discuss\ncd Discuss\ncp .env.example .env\nvim .env\n```\n\n.env ä¿®æ”¹ç¯å¢ƒé…ç½®æ–‡ä»¶\nä¿®æ”¹å¥½åæ‰§è¡Œ`npm run start:server`å³å¯\n\n```env\n# Discuss environment Config\n\n# æ•°æ®åº“è¿æ¥åœ°å€\nDISCUSS_MONGODB='mongodb://localhost:27017/Discuss'\n\n# å¯åŠ¨çš„ç«¯å£å·\nDISCUSS_PORT='6870'\n\n# åŠ å¯†çš„å¯†é’¥å­—ç¬¦ä¸²(è‡ªå®šä¹‰)\nDISCUSS_SECRET='Discuss'\n```\n\n</details>\n\n### NPM å®‰è£…éƒ¨ç½²\n\n<details>\n<summary>ç‚¹å‡»å±•å¼€</summary>\n\n```bash\nmkdir Discuss                   # åˆ›å»ºç›®å½•\ncd Discuss                      # è¿›å…¥ç›®å½•\nnpm init -y                     # åˆå§‹åŒ–npm\nnpm install discuss --save      # å®‰è£…Discuss\ntouch index.js .env             # åˆ›å»ºindex.js ä»¥åŠ .env(ç¯> ç½®æ–‡ä»¶)\n```\n\nindex.js å¼•å…¥ Discuss å¹¶è°ƒç”¨\n\n```js\nconst Discuss = require(\"discuss\");\nDiscuss.server();\n```\n\nä¿®æ”¹ç¯å¢ƒé…ç½®æ–‡ä»¶\nä¿®æ”¹å¥½åæ‰§è¡Œ`node index.js`å³å¯ï¼Œæˆ–è€…ä¿®æ”¹`package.json`ç”¨`npm run xxx`æ¥å¯åŠ¨éƒ½å¯ä»¥\n\n```env\n# Discuss environment Config\n\n# æ•°æ®åº“è¿æ¥åœ°å€\nDISCUSS_MONGODB='mongodb://localhost:27017/Discuss'\n\n# å¯åŠ¨çš„ç«¯å£å·\nDISCUSS_PORT='6870'\n\n# åŠ å¯†çš„å¯†é’¥å­—ç¬¦ä¸²(è‡ªå®šä¹‰)\nDISCUSS_SECRET='Discuss'\n\n```\n\n</details>\n\nä»¥ä¸Šä¸¤ç§æ–¹å¼ä»»é€‰ä¸€ç§æ–¹å¼éƒ¨ç½²ï¼Œéƒ¨ç½²å®Œæˆåé€šè¿‡è®¿é—®éƒ¨ç½²æœåŠ¡å™¨åœ°å€(`http://localhost:6870`)ï¼Œè¿›è¡Œåˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·\n\n## å¼€å‘\n\nåŠ å…¥æˆ‘ä»¬ä¸€èµ·å¼€å‘\n\n```bash\ngit clone https://github.com/lete114/Discuss.git Discuss\ncd Discuss\nnpm install               # å®‰è£…ä¾èµ–\nnpm run start:client      # å¯åŠ¨å®¢æˆ·ç«¯\nnpm run start:server      # å¯åŠ¨æœåŠ¡ç«¯\n```"},{"title":"å¿«é€Ÿå¼€å§‹ | Quick Start","url":"/Quick-Start.html","content":"\n## å‡†å¤‡\n\nåœ¨å¼€å§‹ä¹‹å‰æˆ‘ä»¬éœ€è¦å‡†å¤‡ä»€ä¹ˆï¼Ÿï¼Ÿ\n1. æœåŠ¡å™¨ OR æ— æœåŠ¡å¹³å°(ServerLess)\n2. æ•°æ®åº“ (MongoDB)\n3. NodeJSã€NPMã€Gitç¯å¢ƒ\n4. ä¸€åŒæ‰‹ã€è¿˜æœ‰è€å¿ƒ\n\n## å¿«é€Ÿå¼€å§‹\n\næ„Ÿè°¢æ‚¨ä½¿ç”¨ Discuss è¯„è®ºç³»ç»Ÿï¼Œåªéœ€å‡ ä¸ªæ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥åœ¨æ‚¨çš„ç½‘ç«™ä¸­éƒ¨ç½²å’Œç®¡ç† Discuss æä¾›è¯„è®ºæœåŠ¡ã€‚\n\n### æœåŠ¡ç«¯ (Server)\n\nåˆå§‹åŒ–npmé¡¹ç›®\n\n```bash\nmkdir Discuss                   # åˆ›å»ºç›®å½•\ncd Discuss                      # è¿›å…¥ç›®å½•\nnpm init -y                     # åˆå§‹åŒ–npm\nnpm install discuss --save      # å®‰è£…Discuss\ntouch index.js .env             # åˆ›å»ºindex.js ä»¥åŠ .env(ç¯> ç½®æ–‡ä»¶)\n```\n\nç¼–è¾‘`index.js`\n```js\nconst Discuss = require('discuss')\n\n// é€‰æ‹©ä»¥ä»€ä¹ˆæ–¹å¼è¿è¡Œ\nDiscuss.server() // æœåŠ¡å™¨ä½¿ç”¨ (Server)\n\nDiscuss.main() // æ— æœåŠ¡å™¨ä½¿ç”¨ (ServerLess)\n```\nç¼–è¾‘`.env`\n```.env\n# Discuss environment Config\n\n# æ•°æ®åº“è¿æ¥åœ°å€\nDISCUSS_MONGODB='mongodb://localhost:27017/Discuss'\n\n# å¯åŠ¨çš„ç«¯å£å·\nDISCUSS_PORT='6870'\n\n# åŠ å¯†çš„å¯†é’¥å­—ç¬¦ä¸²(è‡ªå®šä¹‰)\nDISCUSS_SECRET='Discuss'\n```\n\n### å®¢æˆ·ç«¯ (Client)\n\næŒ‰ç…§å¦‚ä¸‹ä»£ç å¯¹æ‚¨çš„ç½‘ç«™è¿›è¡Œè°ƒæ•´ï¼Œä¿å­˜å¹¶éƒ¨ç½²\næ­¤æ—¶è¯„è®ºæœåŠ¡å°±ä¼šåœ¨ä½ çš„ç½‘ç«™ä¸ŠæˆåŠŸè¿è¡Œ [æ¬¢å‘¼]ğŸ‰ğŸ‰ğŸ‰\n\n```html\n<head>\n  ...\n  <script src=\"https://cdn.jsdelivr.net/npm/discuss/dist/Discuss.js\"></script>\n  ...\n</head>\n<body>\n  ...\n  <div id=\"Discuss-Comments\"></div>\n  <script>\n    // < 0.0.9 ä¹‹å‰\n    // Discuss({\n    //   el: '#Discuss-Comments',\n    //   serverURL: '', // æœåŠ¡ç«¯éƒ¨ç½²åœ°å€\n    // });\n    // > 0.0.9ä¹‹å\n    Discuss.init({\n      el: '#Discuss-Comments',\n      serverURL: '', // æœåŠ¡ç«¯éƒ¨ç½²åœ°å€\n    });\n  </script>\n</body>\n```\n\n"},{"title":"è·å– MongoDB æ•°æ®åº“ | Get MongoDB DataBase","url":"/Get-MongoDB-DataBase.html","content":"\n1. æ³¨å†Œ[MongoDB](https://www.mongodb.com/cloud/atlas/register)è´¦å·\n2. é€‰æ‹©åœ°åŒº(é€‰æ‹©ç¦»ä½ æœåŠ¡ç«¯è¿‘çš„å³å¯)\n3. åˆ›å»ºæ•°æ®åº“ç”¨æˆ·ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç \néšåå°±æ˜¯æ·»åŠ IPåœ°å€ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æœåŠ¡å™¨éƒ¨ç½²ï¼Œä½ ç›´æ¥å¡«å†™ä½ æœåŠ¡å™¨çš„ å…¬ç½‘IPå³å¯\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯`æ— æœåŠ¡å™¨(ServerLess)`ï¼ŒServerLessä¸€èˆ¬éƒ½æ˜¯åŠ¨æ€IPï¼Œä½ æ— æ³•å¾—åˆ°ä¸€ä¸ªå›ºå®šIP\næ‰€ä»¥å¾—å…è®¸æ‰€æœ‰IP\n![](/img/Get-MongoDB-DataBase/Add-IP.png)\n4. ç‚¹å‡»`Connect`ï¼Œç‚¹å‡»`Connect you application`ï¼Œç°åœ¨nodejsç‰ˆæœ¬ï¼Œç„¶åå¤åˆ¶è¿æ¥æ•°æ®åº“å­—ç¬¦ä¸²\n> éœ€è¦å°†å­—ç¬¦ä¸²ä¸­çš„`<password>`æ›¿æ¢ä¸ºæ‚¨åœ¨ç¬¬ä¸‰æ­¥åˆ›å»ºçš„æ•°æ®åº“ç”¨æˆ·å¯†ç ï¼Œä¿®æ”¹`myFirstDatabase`ä¸ºä½ æƒ³è¦çš„æ•°æ®åº“åç§°`Discuss`\n![](/img/Get-MongoDB-DataBase/Connect.png)\n![](/img/Get-MongoDB-DataBase/Get-Connect.png)\n\n"},{"title":"éƒ¨ç½² Vercel æ— æœåŠ¡å™¨å¹³å° | Vercel ServerLess Deploy","url":"/Vercel-ServerLess-Deploy.html","content":"\n1. æ³¨å†Œ [Vercel](https://vercel.com/signup)è´¦å·\n2. ç‚¹å‡»ä¸‹é¢æŒ‰é’®å°† `Discuss` ä¸€é”®éƒ¨ç½²åˆ° Vercel\n   [![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/import/project?template=https://github.com/lete114/discuss/tree/vercel)\n3. éšåä¼šæé†’ä½ åˆ›å»ºä¸€ä¸ª Git ä»“åº“ï¼Œæ–¹ä¾¿åæœŸéƒ¨ç½²ï¼Œé€‰æ‹© GitHubï¼Œä½ éœ€è¦è¾“å…¥ä¸€ä¸ªä»“åº“åï¼Œä¾‹å¦‚ï¼š`Discuss-Vercel`ï¼Œæœ€åç­‰å¾…æ„å»ºå®Œæˆç‚¹å‡»`Go to Dashboard`\n4. ç‚¹å‡»`Settings`è¿›å…¥è®¾ç½®é€‰æ‹©`Environment Variables`ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡\n\n| å±æ€§å          | å±æ€§å€¼           | æè¿°     |\n| --------------- | ---------------- | -------- |\n| DISCUSS_MONGODB | æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸² | å¦‚æœæ²¡æœ‰çš„è¯ï¼Œä½ å¾—å»æ³¨å†Œä¸€ä¸ª[MongoDB](https://www.mongodb.com/cloud/atlas/register)è´¦å· |\n| DISCUSS_SECRET | Discuss | ä½ å¯ä»¥è‡ªå®šä¹‰ |\n\n5. ç”±äºæ‚¨æ˜¯å…ˆéƒ¨ç½²ï¼Œåé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥ç¯å¢ƒå˜é‡æ²¡æœ‰ç”Ÿæ•ˆï¼Œä½ éœ€è¦ç‚¹å‡»é¡¶éƒ¨çš„`Deployments`ï¼Œé‡æ–°éƒ¨ç½²å³å¯\n![](/img/Vercel-ServerLess-Deploy/Redeploy.png)\n\n"},{"title":"API Docs","url":"/API-Docs.html","content":"\nDiscuss API ä¸ Discuss æœ¬èº«å¹¶æ²¡æœ‰ç›´æ¥çš„å…³ç³»ï¼Œä½ å¯ä»¥éšæ—¶è°ƒç”¨ï¼Œå¹¶ä¸éœ€è¦åˆå§‹åŒ– Discuss å³å¯ä½¿ç”¨ API\n\n## Visit Stat\n\nè®¿é—®é‡ç»Ÿè®¡\n\nä¾‹å­:\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/discuss@latest/dist/Discuss.js\"></script>\n\n<script>\n  /**\n   * è®¿é—®é‡ç»Ÿè®¡\n   * @param {String} url è¯·æ±‚åœ°å€\n   * @param {String} path è¯·æ±‚è·¯å¾„\n   * @returns {Number}\n   */\n  Discuss.VisitStat({\n    url: \"https://discuss-doc.imlete.cn\", // Discussåå°è¯·æ±‚åœ°å€\n    path: location.pathname, // é¡µé¢çš„å”¯ä¸€æ ‡è¯†ç¬¦\n  }).then((data) => {\n    console.log(data); // ç›´æ¥è¿”å›æ•°é‡\n  });\n</script>\n```\n\n## Recent Comment\n\nè·å–æœ€æ–°è¯„è®º\n\nä¾‹å­:\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/discuss@latest/dist/Discuss.js\"></script>\n\n<script>\n  /**\n   * è·å–æœ€æ–°è¯„è®º\n   * @param {String} url è¯·æ±‚åœ°å€\n   * @param {Boolean} reply æ˜¯å¦è¯·æ±‚å›å¤è¯„è®º é»˜è®¤: true\n   * @returns {Array}\n   */\n  Discuss.RecentComment({\n    url: \"https://discuss-doc.imlete.cn\", // Discussåå°è¯·æ±‚åœ°å€\n    reply: false, // å¦‚æœæ²¡æœ‰éœ€æ±‚ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸éœ€è¦å†™çš„\n  }).then((data) => {\n    console.log(data);\n    // è¿”å›çš„ Array\n    // [\n    //   {\n    //     _id: \"61a45c3d521411b101113b96\",\n    //     nick: \"Test\",\n    //     site: \"\",\n    //     content: \"<p>Test API</p>\",\n    //     pid: \"\",\n    //     rid: \"\",\n    //     stick: false,\n    //     master: false,\n    //     avatar: \"https://thirdqq.qlogo.cn/g?b=sdk&k=k26Ec8NWH58mHCww4XBVyQ&s=140&t=0\",\n    //     time: \"2021-11-11\",\n    //   }\n    // ]\n  });\n</script>\n```\n\n## Comment Count\n\nè·å–è¯„è®ºæ•°é‡\n\nä¾‹å­:\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/discuss@latest/dist/Discuss.js\"></script>\n\n<script>\n  /**\n   * è¯·æ±‚è¯„è®ºæ•°é‡\n   * @param {String} url è¯·æ±‚åœ°å€\n   * @param {Array} paths è¯·æ±‚çš„æ ‡è¯†ç¬¦(ç½‘ç«™path)\n   * @param {Boolean} reply æ˜¯å¦è¯·æ±‚å›å¤è¯„è®º é»˜è®¤: true\n   * @returns {Array}\n   */\n  Discuss.CommentCount({\n    url: \"https://discuss-doc.imlete.cn\", // Discussåå°è¯·æ±‚åœ°å€\n    paths: location.pathname, // é¡µé¢çš„å”¯ä¸€æ ‡è¯†ç¬¦\n    reply: false, // å¦‚æœæ²¡æœ‰éœ€æ±‚ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸éœ€è¦å†™çš„\n  }).then((data) => {\n    console.log(data);\n    // è¿”å›çš„ Array\n    // [\n    //   { url: \"/About.html\", count: 10 },\n    //   { url: \"/Quick-Start.html\", count: 11 },\n    //   { url: \"/Get-MongoDB-DataBase.html\", count: 20 },\n    // ];\n  });\n</script>\n```\n\n## æ€»ç»“\n\n> å¯¹åº”çš„è¯·æ±‚ç±»å‹å¦‚ä¸‹\n> è®¿é—®é‡ç»Ÿè®¡: COUNTER\n> è·å–æœ€æ–°è¯„è®º: RECENT_COMMENT\n> è·å–è¯„è®ºæ•°é‡: COMMENT_COUNT\n\nä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¯·æ±‚ï¼Œå¹¶ééœ€è¦ Discuss çš„è¯·æ±‚æ–¹æ³•å»è¯·æ±‚\nä¾‹å¦‚ä½¿ç”¨`axios`\n\n```js\nconst url = \"https://discuss-doc.imlete.cn\";\nconst options = {\n  type: \"COUNTER\",\n  path: location.pathname,\n};\n// è¯·æ±‚è®¿é—®é‡ç»Ÿè®¡\naxios.post(url, options).then((data) => {\n  console.log(data); // ç›´æ¥è¿”å›æ•°é‡\n});\n```\n"}]