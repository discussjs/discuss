var html,mask,mobileNav;function RunTime(){const e=document.querySelector(".runtime");var t;e&&(t=e.getAttribute("publish-date"),t=(Date.now()-new Date(t).getTime())/864e5,e.innerText=parseInt(t)||1)}function addCodeBlock(){document.querySelectorAll("figure.highlight").forEach(function(e){var t="plaintext"==(t=e.classList[1])?"code":t;e.insertAdjacentHTML("afterbegin",`<div class='code-block' lang='${t}'>
            <span class='clipboard'><i class='fa fa-clipboard'></i></span>
        </div>`)})}function tableWrap(){document.querySelectorAll(".post-content>table,.content>table").forEach(function(e){wrap(e,"div",null,"table-wrap")})}function fancyboxFn(){getScript($config.CDN.fancyboxJs,function(){const e=document.querySelectorAll(".post-content img");e.forEach(e=>e.setAttribute("data-fancybox",""));var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=$config.CDN.fancyboxCss,document.head.appendChild(t)})}function codeBlockExpand(){if($config.codeBlockExpand&&$config.codeBlockExpand.enable){for(var e=document.querySelectorAll("figure.highlight"),l=$config.codeBlockExpand.height,t=0;t<e.length;t++)e[t].clientHeight>l&&(e[t].style="max-height: "+l+"px",e[t].insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="fas fa-angle-down"></i></div>'));document.querySelectorAll(".show-btn").forEach(function(n){n.onclick=function(){var e,t,o=n.childNodes[0];"fas fa-angle-down"==o.className?(o.classList.remove("fa-angle-down"),o.classList.add("fa-angle-up"),n.parentNode.style=""):(o.classList.remove("fa-angle-up"),o.classList.add("fa-angle-down"),n.parentNode.style="max-height: "+l+"px",n.previousElementSibling.style="",scrollTop=document.documentElement.scrollTop||document.body.scrollTop,e=n.getBoundingClientRect().bottom+scrollTop,t=$config.codeBlockExpand.height,o=$config.codeBlockExpand.scrollTop,window.scrollTo(0,e-t-o))}})}}function openMobile(){var e=document.querySelector(".open-nav");e&&(e.onclick=function(){mobileNav.classList.contains("open-mobile")||(mobileNav.className="open-mobile",mask.className="mask")})}function showToc(){var e=document.getElementById("open-toc"),t=document.getElementById("toc-wrap");e&&t&&(e.onclick=function(){t.classList.contains("show-toc")?t.classList.remove("show-toc"):(t.classList.add("show-toc"),"visible"!=$config.tocStyle&&(mask.className="mask"))})}function rightsideShow(){var e=document.getElementById("settings");e&&(e.onclick=function(){var e=document.getElementsByClassName("rightside-btn")[0],t="rightside-show";e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})}function closeAll(){var e=document.getElementById("local-search");e&&(e.classList.remove("search-animation-max"),e.classList.add("search-animation-min"),setTimeout(function(){e.style.display=""},500)),html.style.overflow="auto";var t=document.querySelector(".show-toc");t&&t.classList.remove("show-toc"),mobileNav.classList.remove("open-mobile"),mobileNav.style.opacity="",mask.className=""}function DarkMode(){var e,t,o;document.getElementById("darkmode")&&(e=document.getElementsByTagName("body")[0],t=document.getElementById("darkmode"),o=document.querySelector("#darkmode i"),"true"===localStorage.isDark?(html.setAttribute("theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(html.removeAttribute("theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon")),t.onclick=function(){"true"!==localStorage.isDark?(localStorage.isDark="true",e.style="transition: all .3s linear",html.setAttribute("theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(localStorage.isDark="false",e.style="transition: all .3s linear",html.removeAttribute("theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon"))})}function scroll(){var a=0;window.addEventListener("scroll",function(){var e=document.documentElement.clientHeight,t=window.scrollY||document.documentElement.scrollTop,o=document.querySelector(".navbar"),n=document.getElementById("toc"),l=document.getElementById("sidebar-sticky");a=(a<t?(n&&(n.style.top=""),l&&(l.style.top=""),o.style.transform="translateY(-60px)"):(n&&(n.style.top="70px"),l&&(l.style.top="70px"),o.style.transform=""),t);var c=document.querySelector("#rightside");100<t?c.style="opacity:1;visibility:visible":(c.style.opacity=0,setTimeout(function(){c.style.visibility="hidden"},500));n=document.querySelector(".post-content"),l=document.querySelector(".num");n&&l&&(o=n.offsetTop,e=e<(n=n.clientHeight)?n-e:document.documentElement.scrollHeight-e,e=Math.round(100*((t-o)/e)),l.innerText=(e=100<e?100:e<=0?0:e)+"%",document.querySelector(".progress").value=e)})}function codeCopy(){document.querySelectorAll("figure.highlight").forEach(function(t){var o=t.firstChild.childNodes[1];o.onclick=function(){var e=window.getSelection();e.selectAllChildren(t.querySelector(".code")),document.execCommand("copy"),e.removeAllRanges(),o.innerHTML='<i class="fa fa-check" style="color:green"></i>',setTimeout(function(){o.innerHTML='<i class="fa fa-clipboard"></i>'},2e3)}})}function exeAllFn(){html=document.getElementsByTagName("html")[0],mask=document.getElementById("mask"),mobileNav=document.getElementById("mobile-nav"),RunTime(),addCodeBlock(),tableWrap(),fancyboxFn(),codeBlockExpand(),openMobile(),showToc(),rightsideShow(),closeAll(),DarkMode(),scroll(),codeCopy()}window.onload=exeAllFn();